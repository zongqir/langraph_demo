# ğŸ¤– æ™ºèƒ½å®¢æœç³»ç»Ÿ - LangGraphå®æˆ˜é¡¹ç›®

> åŸºäºLangGraphå’Œç¡…åŸºæµåŠ¨APIæ„å»ºçš„ç”Ÿäº§çº§æ™ºèƒ½å®¢æœç³»ç»Ÿ

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»?
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ?
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§?
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [ç”Ÿäº§éƒ¨ç½²](#ç”Ÿäº§éƒ¨ç½²)
- [å®é™…åº”ç”¨åœºæ™¯](#å®é™…åº”ç”¨åœºæ™¯)

---

## ğŸ¯ é¡¹ç›®ç®€ä»?
è¿™æ˜¯ä¸€ä¸?*çœŸæ­£ç”Ÿäº§å¯ç”¨**çš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨LangGraphæ„å»ºå¤æ‚çš„AIåº”ç”¨ã€‚é¡¹ç›®æ¶µç›–äº†ä¼ä¸šçº§AIåº”ç”¨çš„æ ¸å¿ƒè¦ç´ ï¼š

- âœ?**å¤šè½®å¯¹è¯ç®¡ç†** - åŸºäºLangGraphçš„çŠ¶æ€å›¾è®¾è®¡
- âœ?**æ„å›¾è¯†åˆ«ä¸å®ä½“æå?* - æ™ºèƒ½ç†è§£ç”¨æˆ·éœ€æ±?- âœ?**RAGçŸ¥è¯†åº“æ£€ç´?* - å‘é‡æ•°æ®åº“æ”¯æŒçš„çŸ¥è¯†é—®ç­”
- âœ?**å·¥å…·è°ƒç”¨ï¼ˆFunction Callingï¼?* - é›†æˆçœŸå®ä¸šåŠ¡ç³»ç»Ÿ
- âœ?**æ™ºèƒ½è½¬äººå·?* - å¤æ‚é—®é¢˜è‡ªåŠ¨å‡çº§
- âœ?**å®Œæ•´æ—¥å¿—ä¸ç›‘æ?* - ç”Ÿäº§çº§å¯è§‚æµ‹æ€?
## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½å¯¹è¯å¼•æ“

åŸºäºLangGraphæ„å»ºçš„çŠ¶æ€æœºï¼Œæ”¯æŒå¤æ‚çš„å¯¹è¯æµç¨‹æ§åˆ¶ï¼?
```
ç”¨æˆ·è¾“å…¥ â†?æ„å›¾åˆ†ç±» â†?çŸ¥è¯†æ£€ç´?å·¥å…·è°ƒç”¨ â†?ç”Ÿæˆå›å¤ â†?æ»¡æ„åº¦æ£€æŸ?```

### 2. çŸ¥è¯†åº“ç®¡ç†ï¼ˆRAGï¼?
- ä½¿ç”¨FAISSå‘é‡æ•°æ®åº“å­˜å‚¨ä¼ä¸šçŸ¥è¯?- æ”¯æŒäº§å“ä¿¡æ¯ã€FAQã€æŠ€æœ¯æ–‡æ¡£ç­‰å¤šç±»å‹çŸ¥è¯?- è¯­ä¹‰æ£€ç´¢ï¼Œè‡ªåŠ¨æ‰¾åˆ°æœ€ç›¸å…³çš„ç­”æ¡?
### 3. ä¸šåŠ¡å·¥å…·é›†æˆ

æ¨¡æ‹ŸçœŸå®ä¸šåŠ¡åœºæ™¯ï¼Œæ”¯æŒï¼š
- ğŸ“¦ **è®¢å•æŸ¥è¯¢** - æŸ¥è¯¢è®¢å•çŠ¶æ€ã€ç‰©æµä¿¡æ?- ğŸ’° **é€€æ¬¾å¤„ç?* - è‡ªåŠ¨å¤„ç†é€€æ¬¾ç”³è¯?- ğŸ“Š **åº“å­˜æŸ¥è¯¢** - å®æ—¶åº“å­˜ä¿¡æ¯
- ğŸšš **ç‰©æµè·Ÿè¸ª** - å¿«é€’è¿½è¸?
### 4. ç”Ÿäº§çº§ç‰¹æ€?
- ğŸ” **é…ç½®ç®¡ç†** - åŸºäºPydanticçš„ç±»å‹å®‰å…¨é…ç½?- ğŸ“ **ç»“æ„åŒ–æ—¥å¿?* - ä½¿ç”¨Loguruçš„å¤šçº§æ—¥å¿—ç³»ç»?- ğŸ›¡ï¸?**å¼‚å¸¸å¤„ç†** - å®Œå–„çš„é”™è¯¯æ•è·å’Œæ¢å¤æœºåˆ¶
- ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–** - å‘é‡ç´¢å¼•ã€ç¼“å­˜ç­–ç•?
---

## ğŸ—ï¸?æŠ€æœ¯æ¶æ?
### æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| **LLMæ¡†æ¶** | LangChain + LangGraph | å¯¹è¯æµç¨‹ç¼–æ’ |
| **å¤§æ¨¡å?* | ç¡…åŸºæµåŠ¨ API | Qwen2.5-7B-Instruct |
| **å‘é‡æ•°æ®åº?* | FAISS | æœ¬åœ°é«˜æ€§èƒ½å‘é‡æ£€ç´?|
| **åµŒå…¥æ¨¡å‹** | BGE-large-zh | ä¸­æ–‡è¯­ä¹‰ç†è§£ |
| **é…ç½®ç®¡ç†** | Pydantic Settings | ç±»å‹å®‰å…¨çš„é…ç½?|
| **æ—¥å¿—ç³»ç»Ÿ** | Loguru | ç»“æ„åŒ–æ—¥å¿?|

### æ¶æ„å›?
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”? ç”¨æˆ·è¾“å…¥    â”?â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”?       â†?â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?       LangGraphçŠ¶æ€å›¾å¼•æ“            â”?â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â”? â”? 1. æ„å›¾åˆ†ç±» (Intent Classifier)â”? â”?â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â”?          â†?                          â”?â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?  â”?â”? â”? 2a. çŸ¥è¯†æ£€ç´?     â”?2b. å·¥å…·è°ƒç”¨â”? â”?â”? â”? (RAG)            â”?(Tools)    â”? â”?â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”?  â”?â”?          â†?                 â†?       â”?â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â”? â”? 3. å›å¤ç”Ÿæˆ (Response Gen)    â”? â”?â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â”?          â†?                          â”?â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â”? â”? 4. æ»¡æ„åº¦æ£€æŸ?(Satisfaction)  â”? â”?â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?       â†?â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”? æ™ºèƒ½å›å¤     â”?â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?```

---

## ğŸš€ å¿«é€Ÿå¼€å§?
### ç¯å¢ƒè¦æ±‚

- Python 3.9+
- 8GB+ RAMï¼ˆç”¨äºåŠ è½½åµŒå…¥æ¨¡å‹ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
cd langraph_demo
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

4. **é…ç½®APIå¯†é’¥**

é¡¹ç›®å·²é…ç½®ç¡…åŸºæµåŠ¨APIå¯†é’¥ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚å¦‚éœ€ä¿®æ”¹é…ç½®ï¼Œè¯·åˆ›å»º`.env`æ–‡ä»¶ï¼?
```env
SILICONFLOW_API_KEY=your_api_key_here
SILICONFLOW_BASE_URL=https://api.siliconflow.cn/v1
DEFAULT_MODEL=Qwen/Qwen2.5-7B-Instruct
```

5. **åˆå§‹åŒ–çŸ¥è¯†åº“**

```bash
python examples/init_knowledge_base.py
```

è¿™å°†åˆ›å»ºåŒ…å«äº§å“ä¿¡æ¯ã€FAQã€æŠ€æœ¯æ–‡æ¡£çš„å‘é‡çŸ¥è¯†åº“ã€?
---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ç®€å•å¯¹è¯ç¤ºä¾?
æœ€åŸºç¡€çš„äº¤äº’å¼å¯¹è¯ï¼?
```bash
python examples/simple_chat.py
```

æ”¯æŒçš„å¯¹è¯ç¤ºä¾‹ï¼š
```
ç”¨æˆ·: iPhone 15 Proå¤šå°‘é’±ï¼Ÿ
å®¢æœ: iPhone 15 Proçš„ä»·æ ¼æ˜¯7999å…ƒèµ·...

ç”¨æˆ·: å¸®æˆ‘æŸ¥è®¢å•ORD001
å®¢æœ: æ‚¨çš„è®¢å•ORD001çŠ¶æ€ä¸ºï¼šå·²å‘è´§...
```

### 2. é«˜çº§åŠŸèƒ½æ¼”ç¤º

è¿è¡Œå®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºï¼ŒåŒ…æ‹¬æ‰€æœ‰åœºæ™¯ï¼š

```bash
python examples/advanced_demo.py
```

æ¼”ç¤ºå†…å®¹ï¼?- âœ?äº§å“å’¨è¯¢ï¼ˆçŸ¥è¯†åº“æ£€ç´¢ï¼‰
- âœ?è®¢å•æŸ¥è¯¢ï¼ˆå·¥å…·è°ƒç”¨ï¼‰
- âœ?ç‰©æµè·Ÿè¸ªï¼ˆå·¥å…·è°ƒç”¨ï¼‰
- âœ?é€€æ¬¾ç”³è¯·ï¼ˆå·¥å…·è°ƒç”¨ï¼?- âœ?åº“å­˜æŸ¥è¯¢ï¼ˆå·¥å…·è°ƒç”¨ï¼‰
- âœ?å¤šè½®å¯¹è¯ï¼ˆä¸Šä¸‹æ–‡ç†è§£ï¼?- âœ?å¸¸è§é—®é¢˜ï¼ˆFAQï¼?- âœ?å¤æ‚é—®é¢˜è½¬äººå·?
### 3. ä»£ç é›†æˆç¤ºä¾‹

åœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨æ™ºèƒ½å®¢æœï¼?
```python
from langraph_customer_service.agents import CustomerServiceAgent
from langraph_customer_service.knowledge_base import KnowledgeBase

# åˆå§‹åŒ?kb = KnowledgeBase()
kb.load()  # åŠ è½½å·²æœ‰çŸ¥è¯†åº?agent = CustomerServiceAgent(knowledge_base=kb)

# å•æ¬¡å¯¹è¯
response, state = agent.chat("iPhone 15 Proå¤šå°‘é’±ï¼Ÿ")
print(response)

# å¤šè½®å¯¹è¯ï¼ˆä¿æŒä¸Šä¸‹æ–‡ï¼?state = None
response1, state = agent.chat("å¸®æˆ‘æŸ¥è®¢å•ORD001", state)
response2, state = agent.chat("ç‰©æµå•å·æ˜¯å¤šå°‘ï¼Ÿ", state)
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
langraph_demo/
â”œâ”€â”€ config/                 # é…ç½®æ¨¡å—
â”?  â”œâ”€â”€ __init__.py
â”?  â””â”€â”€ settings.py        # ç³»ç»Ÿé…ç½®ï¼ˆAPIå¯†é’¥ã€æ¨¡å‹é…ç½®ç­‰ï¼?â”?â”œâ”€â”€ src/                   # æ ¸å¿ƒæºä»£ç ?â”?  â”œâ”€â”€ agents/           # æ™ºèƒ½ä»£ç†
â”?  â”?  â”œâ”€â”€ __init__.py
â”?  â”?  â””â”€â”€ customer_service.py  # å®¢æœAgentï¼ˆLangGraphæ ¸å¿ƒï¼?â”?  â”?â”?  â”œâ”€â”€ knowledge_base/   # çŸ¥è¯†åº“æ¨¡å?â”?  â”?  â”œâ”€â”€ __init__.py
â”?  â”?  â””â”€â”€ vector_store.py      # FAISSå‘é‡å­˜å‚¨
â”?  â”?â”?  â”œâ”€â”€ tools/            # ä¸šåŠ¡å·¥å…·
â”?  â”?  â”œâ”€â”€ __init__.py
â”?  â”?  â””â”€â”€ business_tools.py    # è®¢å•/é€€æ¬?åº“å­˜ç­‰å·¥å…?â”?  â”?â”?  â”œâ”€â”€ state.py          # å¯¹è¯çŠ¶æ€å®šä¹?â”?  â”œâ”€â”€ llm_client.py     # LLMå®¢æˆ·ç«¯å°è£?â”?  â””â”€â”€ utils.py          # å·¥å…·å‡½æ•°ï¼ˆæ—¥å¿—ç­‰ï¼?â”?â”œâ”€â”€ examples/              # ç¤ºä¾‹ç¨‹åº
â”?  â”œâ”€â”€ init_knowledge_base.py   # åˆå§‹åŒ–çŸ¥è¯†åº“
â”?  â”œâ”€â”€ simple_chat.py           # ç®€å•å¯¹è¯ç¤ºä¾?â”?  â””â”€â”€ advanced_demo.py         # é«˜çº§åŠŸèƒ½æ¼”ç¤º
â”?â”œâ”€â”€ data/                  # æ•°æ®ç›®å½•
â”?  â””â”€â”€ vector_store/     # å‘é‡æ•°æ®åº“æ–‡ä»?â”?â”œâ”€â”€ logs/                  # æ—¥å¿—ç›®å½•
â”?â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md             # æœ¬æ–‡æ¡?```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. `src/agents/customer_service.py` - å®¢æœAgent

LangGraphçŠ¶æ€å›¾çš„æ ¸å¿ƒå®ç°ï¼š

- `_classify_intent()` - æ„å›¾åˆ†ç±»èŠ‚ç‚¹
- `_retrieve_knowledge()` - çŸ¥è¯†æ£€ç´¢èŠ‚ç‚?- `_call_tools()` - å·¥å…·è°ƒç”¨èŠ‚ç‚¹
- `_generate_response()` - å›å¤ç”ŸæˆèŠ‚ç‚¹
- `_check_satisfaction()` - æ»¡æ„åº¦æ£€æŸ¥èŠ‚ç‚?
#### 2. `src/state.py` - çŠ¶æ€ç®¡ç?
å®šä¹‰å¯¹è¯çŠ¶æ€æ¨¡å‹ï¼š

```python
class ConversationState:
    messages: List[Message]          # å¯¹è¯å†å²
    intent: str                      # å½“å‰æ„å›¾
    entities: Dict[str, Any]         # æå–çš„å®ä½?    tool_calls: List[Dict]           # å·¥å…·è°ƒç”¨è®°å½•
    retrieved_docs: List[str]        # æ£€ç´¢ç»“æ?    requires_human: bool             # æ˜¯å¦éœ€è¦è½¬äººå·¥
```

#### 3. `src/knowledge_base/vector_store.py` - çŸ¥è¯†åº?
å‘é‡æ£€ç´¢å®ç°ï¼š

- `add_documents()` - æ·»åŠ æ–‡æ¡£
- `search()` - è¯­ä¹‰æ£€ç´?- `save()/load()` - æŒä¹…åŒ?
---

## ğŸ­ ç”Ÿäº§éƒ¨ç½²

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ¨¡å‹ä¼˜åŒ–**
   - ä½¿ç”¨é‡åŒ–æ¨¡å‹å‡å°‘å†…å­˜å ç”¨
   - éƒ¨ç½²æœ¬åœ°æ¨¡å‹æœåŠ¡ï¼ˆå¦‚vLLMï¼?   - å®ç°è¯·æ±‚æ‰¹å¤„ç?
2. **å‘é‡æ•°æ®åº?*
   - å¯¹äºå¤§è§„æ¨¡æ•°æ®ï¼Œä½¿ç”¨Milvus/Qdrantæ›¿ä»£FAISS
   - å®ç°åˆ†ç‰‡å’Œå‰¯æœ¬æœºåˆ?   - æ·»åŠ ç¼“å­˜å±?
3. **ç³»ç»Ÿæ¶æ„**
   - ä½¿ç”¨FastAPIæä¾›REST API
   - æ·»åŠ Redisåšä¼šè¯ç®¡ç?   - å®ç°æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†

4. **ç›‘æ§å‘Šè­¦**
   - é›†æˆPrometheusæŒ‡æ ‡
   - æ·»åŠ å“åº”æ—¶é—´ç›‘æ§
   - å¼‚å¸¸è‡ªåŠ¨å‘Šè­¦

### æ‰©å±•APIæœåŠ¡ï¼ˆå¯é€‰ï¼‰

åˆ›å»º`api/main.py`ï¼?
```python
from fastapi import FastAPI
from langraph_customer_service.agents import CustomerServiceAgent

app = FastAPI()
agent = CustomerServiceAgent()

@app.post("/chat")
async def chat(message: str, session_id: str):
    response, state = agent.chat(message)
    return {"response": response, "session_id": session_id}
```

è¿è¡Œï¼?```bash
uvicorn api.main:app --reload
```

---

## ğŸ“ å®é™…åº”ç”¨åœºæ™¯

### 1. ç”µå•†å®¢æœ

**é€‚ç”¨åœºæ™¯**ï¼?- å•†å“å’¨è¯¢ï¼ˆä»·æ ¼ã€å‚æ•°ã€åº“å­˜ï¼‰
- è®¢å•ç®¡ç†ï¼ˆæŸ¥è¯¢ã€ä¿®æ”¹ã€å–æ¶ˆï¼‰
- å”®åæœåŠ¡ï¼ˆé€€æ¢è´§ã€æŠ•è¯‰ï¼‰

**é›†æˆæ–¹å¼**ï¼?- å¯¹æ¥è®¢å•ç³»ç»ŸAPI
- è¿æ¥å•†å“æ•°æ®åº?- é›†æˆç‰©æµæ¥å£

### 2. æŠ€æœ¯æ”¯æŒ?
**é€‚ç”¨åœºæ™¯**ï¼?- è½¯ä»¶ä½¿ç”¨é—®é¢˜
- æ•…éšœè¯Šæ–­
- é…ç½®æŒ‡å¯¼

**çŸ¥è¯†åº“å†…å®?*ï¼?- æ“ä½œæ‰‹å†Œ
- å¸¸è§é—®é¢˜è§£ç­”
- æ•…éšœæ’æŸ¥æµç¨‹

### 3. é‡‘èå®¢æœ

**é€‚ç”¨åœºæ™¯**ï¼?- è´¦æˆ·æŸ¥è¯¢
- äº§å“å’¨è¯¢
- ä¸šåŠ¡åŠç†

**å®‰å…¨è€ƒè™‘**ï¼?- èº«ä»½éªŒè¯
- æ•æ„Ÿä¿¡æ¯è„±æ•
- å®¡è®¡æ—¥å¿—

### 4. ä¼ä¸šå†…éƒ¨åŠ©æ‰‹

**é€‚ç”¨åœºæ™¯**ï¼?- ITå·¥å•å¤„ç†
- HRæ”¿ç­–æŸ¥è¯¢
- è¡Œæ”¿æµç¨‹æŒ‡å¯¼

**ç‰¹ç‚¹**ï¼?- ç§æœ‰åŒ–éƒ¨ç½?- æƒé™ç®¡ç†
- å¤šç³»ç»Ÿé›†æˆ?
---

## ğŸ”‘ å…³é”®æŠ€æœ¯ç‚¹

### 1. LangGraphçŠ¶æ€å›¾è®¾è®¡

```python
# æ¡ä»¶è·¯ç”±ç¤ºä¾‹
workflow.add_conditional_edges(
    "classify_intent",
    self._route_after_intent,
    {
        "knowledge": "retrieve_knowledge",
        "tool": "call_tools",
        "general": "generate_response"
    }
)
```

**ä¼˜åŠ¿**ï¼?- æµç¨‹å¯è§†åŒ?- æ˜“äºè°ƒè¯•
- çµæ´»æ‰©å±•

### 2. æ„å›¾è¯†åˆ«ä¸å®ä½“æå?
ä½¿ç”¨LLMè¿›è¡Œç»“æ„åŒ–è¾“å‡ºï¼š

```python
{
    "intent": "order_query",
    "entities": {
        "order_id": "ORD001"
    },
    "needs_tool": true
}
```

### 3. RAGæ£€ç´¢å¢å¼?
```python
# 1. å‘é‡åŒ–æŸ¥è¯?query_embedding = model.encode(query)

# 2. æ£€ç´¢ç›¸ä¼¼æ–‡æ¡?results = index.search(query_embedding, top_k=3)

# 3. æ³¨å…¥åˆ°prompt
context = "\n".join([r["document"] for r in results])
```

### 4. å·¥å…·è°ƒç”¨æ¨¡å¼

```python
tools = {
    "query_order": query_order,
    "process_refund": process_refund,
}

# æ ¹æ®æ„å›¾è°ƒç”¨å·¥å…·
if intent == "order_query":
    result = tools["query_order"](order_id)
```

---

## ğŸ“Š æµ‹è¯•æ•°æ®

é¡¹ç›®å†…ç½®æµ‹è¯•æ•°æ®ï¼?
**è®¢å•æ•°æ®**ï¼?- ORD001 - å·²å‘è´§çš„iPhoneè®¢å•
- ORD002 - å¤„ç†ä¸­çš„MacBookè®¢å•

**ç‰©æµå•å·**ï¼?- SF1234567890 - é¡ºä¸°å¿«é€?
**å•†å“**ï¼?- iPhone 15 Pro
- MacBook Pro
- AirPods Pro

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹è§„èŒƒï¼?
1. **ä»£ç é£æ ¼**ï¼šéµå¾ªPEP 8
2. **æ–‡æ¡£**ï¼šä¸ºæ–°åŠŸèƒ½æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²
3. **æµ‹è¯•**ï¼šæ·»åŠ å•å…ƒæµ‹è¯?4. **æ—¥å¿—**ï¼šä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼?
---

## ğŸ“„ è®¸å¯è¯?
MIT License

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

### å¯¹äºåˆå­¦è€?
1. å…ˆè¿è¡Œ`simple_chat.py`ç†è§£åŸºæœ¬æµç¨‹
2. æŸ¥çœ‹`customer_service.py`äº†è§£LangGraphç”¨æ³•
3. ç ”ç©¶`state.py`ç†è§£çŠ¶æ€è®¾è®?4. å°è¯•æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°

### å¯¹äºè¿›é˜¶è€?
1. ä¼˜åŒ–æ„å›¾è¯†åˆ«çš„å‡†ç¡®æ€?2. å®ç°å¤šæ¨¡æ€æ”¯æŒï¼ˆå›¾ç‰‡ã€è¯­éŸ³ï¼‰
3. æ·»åŠ å¯¹è¯ç­–ç•¥å­¦ä¹ 
4. æ¥å…¥çœŸå®ä¸šåŠ¡ç³»ç»Ÿ

### æ¨èèµ„æº

- [LangGraphå®˜æ–¹æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [ç¡…åŸºæµåŠ¨APIæ–‡æ¡£](https://docs.siliconflow.cn/)
- [FAISSæ–‡æ¡£](https://github.com/facebookresearch/faiss)

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ›´æ¢LLMæ¨¡å‹ï¼?
A: ä¿®æ”¹`.env`ä¸­çš„`DEFAULT_MODEL`é…ç½®ï¼Œæˆ–åœ¨ä»£ç ä¸­æŒ‡å®šï¼?
```python
from langraph_customer_service.llm_client import LLMClient
llm = LLMClient(model="Qwen/Qwen2.5-72B-Instruct")
```

### Q: çŸ¥è¯†åº“æ”¯æŒå¤šå¤§è§„æ¨¡ï¼Ÿ

A: FAISSæ”¯æŒç™¾ä¸‡çº§å‘é‡ã€‚æ›´å¤§è§„æ¨¡å»ºè®®ä½¿ç”¨Milvus/Qdrantã€?
### Q: å¦‚ä½•æ·»åŠ æ–°çš„ä¸šåŠ¡å·¥å…·ï¼?
A: åœ¨`src/tools/business_tools.py`ä¸­æ·»åŠ å‡½æ•°ï¼Œç„¶ååœ¨Agentä¸­æ³¨å†Œï¼š

```python
def my_tool(param: str) -> Dict:
    return {"result": "..."}

# åœ¨CustomerServiceAgentä¸­æ³¨å†?self.tools["my_tool"] = my_tool
```

### Q: å¦‚ä½•æé«˜å›å¤é€Ÿåº¦ï¼?
A: 
1. ä½¿ç”¨æ›´å°çš„æ¨¡å?2. å‡å°‘æ£€ç´¢çš„top_kæ•°é‡
3. å®ç°ç»“æœç¼“å­˜
4. å¼‚æ­¥å¤„ç†

---

## ğŸ“® è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/your-repo/langraph_demo
- é—®é¢˜åé¦ˆï¼šæäº¤Issue

---

**â­?å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼?*
